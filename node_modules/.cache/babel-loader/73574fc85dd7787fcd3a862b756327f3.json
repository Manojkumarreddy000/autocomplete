{"ast":null,"code":"var _jsxFileName = \"/home/manoj/Documents/AI/trade_search/src/search.js\";\nimport React, { useState, useEffect } from \"react\";\nimport Autocomplete from 'react-autocomplete';\nimport axios from 'axios'; // import { useHistory } from 'react-router-dom';\n\nimport { Link } from \"react-router-dom\"; // import {Link,useLocation,withRouter,Redirect} from \"react-router-dom\";\n\nlet economics_href = \"\";\nlet demographics_href = \"\";\nlet trade_export_href = \"\";\nlet trade_import_href = \"\";\n\nfunction get_list_from_buckets(buckets) {\n  let list_bucket = buckets.map(item => {\n    console.log(buckets);\n    let index = item.item._index;\n    let href = \"\";\n    let title = \"\";\n\n    if (index === \"economics_v102_test\") {\n      href = economics_href + item._source.Variablepath;\n      title = item._source.VariableName;\n    }\n\n    if (index === \"demographics_v1_test\") {\n      href = demographics_href + item._source.Variablepath;\n      title = item._source.VariableName;\n    }\n\n    if (index === \"trade_export_yearly_v1\") {\n      href = trade_export_href + item._source.Variablepath;\n      title = item._source.HSCodeName;\n    }\n\n    if (index === \"trade_import_yearly_v1\") {\n      href = trade_import_href + item._source.Variablepath;\n      title = item._source.HSCodeName;\n    }\n\n    return {\n      index: index,\n      show: title,\n      href: href\n    };\n  });\n}\n\nfunction AutoComo(props) {\n  useEffect(() => {}, []);\n  const [value, setVal] = useState();\n  const [items, setItems] = useState([]); // var value = \"\"\n\n  function handleChange(VariableName) {\n    setItems([]);\n\n    if (VariableName === \"\") {\n      return;\n    }\n\n    var url = 'https://elastic.airesearch.in/economics_v102_test,demographics_v1_test,trade_export_yearly_v1,trade_import_yearly_v1/_search';\n    var query4 = {\n      \"_source\": [\"HSCodeName\", \"VariableName\", \"VariablePath\"],\n      \"query\": {\n        \"bool\": {\n          \"must\": [{\n            \"query_string\": {\n              \"fields\": [\"HSCode^3\", \"HSName^2\", \"HSCodeName^2\", \"Country\", \"VariableName^5\", \"VariablePath\", \"Level1\", \"Level2\", \"Level3\", \"Level4\", \"Level5\"],\n              \"query\": `${VariableName}~`,\n              \"minimum_should_match\": 1\n            }\n          }]\n        }\n      }\n    };\n    axios.post(url, query4).then(d => {\n      if (d.status === 200) {\n        console.log(d.data);\n        let total_data = d.data.hits.hits;\n        let list = get_list_from_buckets(total_data);\n        console.log(list);\n        setItems(list);\n      } else {\n        console.log(\"err\");\n      }\n    }).catch(error => {\n      if (error) {\n        console.log(error);\n      } else {\n        console.log(\"Error!\");\n      }\n    });\n  } // const classes = useStyles();\n\n\n  return (\n    /*#__PURE__*/\n    // <div className={classes.root}>\n    React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 7\n      }\n    }, \"home\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 7\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(Autocomplete, {\n      getItemValue: item => item.path,\n      items: items,\n      enderItem: (item, isHighlighted) => /*#__PURE__*/React.createElement(\"div\", {\n        className: \"searchDrop\",\n        style: {\n          background: isHighlighted ? 'lightgray' : 'black'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        to: `/${item.path}`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 17\n        }\n      }, item.label)),\n      value: value,\n      onChange: e => {\n        setVal(e.target.value);\n        handleChange(e.target.value);\n      } // onSelect={(val) => {setVal(val);console.log(\"val\",val)}}\n      ,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 7\n      }\n    }))\n  );\n}\n\nexport default AutoComo;","map":{"version":3,"sources":["/home/manoj/Documents/AI/trade_search/src/search.js"],"names":["React","useState","useEffect","Autocomplete","axios","Link","economics_href","demographics_href","trade_export_href","trade_import_href","get_list_from_buckets","buckets","list_bucket","map","item","console","log","index","_index","href","title","_source","Variablepath","VariableName","HSCodeName","show","AutoComo","props","value","setVal","items","setItems","handleChange","url","query4","post","then","d","status","data","total_data","hits","list","catch","error","path","isHighlighted","background","label","e","target"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Autocomplete from 'react-autocomplete';\nimport axios from 'axios'\n// import { useHistory } from 'react-router-dom';\nimport {Link} from \"react-router-dom\";\n// import {Link,useLocation,withRouter,Redirect} from \"react-router-dom\";\n\nlet economics_href = \"\"\nlet demographics_href = \"\"\nlet trade_export_href  = \"\"\nlet trade_import_href  = \"\"\n\nfunction get_list_from_buckets(buckets){\n  let list_bucket = buckets.map(item =>{\n    console.log(buckets)\n    let index = item.item._index\n    let href = \"\"\n    let title = \"\"\n    if(index === \"economics_v102_test\"){\n      href = economics_href+item._source.Variablepath\n      title = item._source.VariableName\n    }\n    if(index === \"demographics_v1_test\"){\n      href = demographics_href+item._source.Variablepath\n      title = item._source.VariableName\n    }\n    if(index === \"trade_export_yearly_v1\"){\n      href = trade_export_href+item._source.Variablepath\n      title = item._source.HSCodeName\n    }\n    if(index === \"trade_import_yearly_v1\"){\n      href = trade_import_href+item._source.Variablepath\n      title = item._source.HSCodeName\n    }\n\n    return {index:index, show:title, href:href}\n  })\n}\n\n\nfunction AutoComo(props) {\n\n  useEffect(() => {\n  },[])\n\n  const [value,setVal] = useState()\n  const [items,setItems] = useState([])\n\n  \n  // var value = \"\"\n\n  function handleChange(VariableName){\n    setItems([]);\n    if(VariableName === \"\"){\n      \n      return\n    }\n  \n    var url = 'https://elastic.airesearch.in/economics_v102_test,demographics_v1_test,trade_export_yearly_v1,trade_import_yearly_v1/_search'\n          \n  var query4 = {   \n      \"_source\":[\"HSCodeName\",\"VariableName\",\"VariablePath\"],\n      \"query\": {\n      \"bool\": {\n        \"must\":[\n          {\n          \"query_string\":{\n              \"fields\": [\"HSCode^3\",\"HSName^2\",\"HSCodeName^2\",\"Country\",\"VariableName^5\",\"VariablePath\",\"Level1\",\"Level2\",\"Level3\",\"Level4\",\"Level5\"],\n              \"query\": `${VariableName}~`,\n              \"minimum_should_match\": 1\n            }\n          }\n        ]\n      }\n    }\n  }\n    \n          \n            \n            \n  axios.post(url, query4)\n    .then( d => {\n      if(d.status === 200 ){\n        console.log(d.data);\n        let total_data = d.data.hits.hits\n\n        let list = get_list_from_buckets(total_data)\n        console.log(list)\n        setItems(list)\n      }\n      else{\n        console.log(\"err\")\n      }\n    })\n    .catch( error => {\n      if (error) {\n        console.log(error)\n      }\n      else{\n        console.log(\"Error!\");\n      }\n    });\n\n}\n\n  // const classes = useStyles();\n\n\n  return (\n    // <div className={classes.root}>\n    <div>\n      <a href=\"/\" >home</a>\n      <br /><br /><br />\n      \n      <Autocomplete\n            getItemValue={(item) => item.path}\n            items={items}\n            enderItem={(item, isHighlighted) =>\n              <div className=\"searchDrop\"  style={{background: isHighlighted ? 'lightgray' : 'black' }}>\n                <Link to={`/${item.path}`}>\n                 {item.label}\n                </Link>\n              </div>\n            }\n            value={value}\n            onChange={(e) => {setVal(e.target.value);handleChange(e.target.value)}}\n            \n            // onSelect={(val) => {setVal(val);console.log(\"val\",val)}}\n        />\n          \n          \n    </div>\n  );\n}\n\n\n\n\nexport default AutoComo ;"]},"metadata":{},"sourceType":"module"}